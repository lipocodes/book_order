/* ===========================
   Base + Theme
   =========================== */
:root{
  --bg: #0f172a;           /* slate-900 */
  --panel: #111827;        /* gray-900 */
  --panel-2: #0b1220;      /* subtle depth */
  --text: #e5e7eb;         /* gray-200 */
  --muted: #94a3b8;        /* slate-400 */
  --brand: #7c3aed;        /* violet-600 */
  --brand-700: #6d28d9;    /* hover */
  --ok: #10b981;           /* emerald-500 */
  --warn: #f59e0b;         /* amber-500 */
  --err: #ef4444;          /* red-500 */
  --ring: rgba(124,58,237,.4);
  --shadow: 0 10px 25px rgba(0,0,0,.35);
  --radius: 16px;
}

@media (prefers-color-scheme: light) {
  :root{
    --bg: #f8fafc;         /* slate-50 */
    --panel: #ffffff;      /* white */
    --panel-2: #f1f5f9;    /* slate-100 */
    --text: #0f172a;       /* slate-900 */
    --muted: #475569;      /* slate-600 */
    --brand: #6d28d9;      /* violet-700 */
    --brand-700: #5b21b6;
    --ring: rgba(109,40,217,.35);
    --shadow: 0 10px 25px rgba(2,6,23,.08);
  }
}

* { box-sizing: border-box; }

html, body {
  height: 100%;
}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: radial-gradient(1200px 600px at 20% -10%, var(--panel-2), transparent),
              radial-gradient(1000px 500px at 120% 10%, var(--panel-2), transparent),
              var(--bg);
  color: var(--text);
  line-height: 1.5;
}

/* ===========================
   Layout
   =========================== */
.container{
  max-width: 920px;
  margin: clamp(12px, 4vw, 36px) auto;
  padding: clamp(12px, 4vw, 28px);
  background: color-mix(in srgb, var(--panel) 94%, transparent);
  border: 1px solid color-mix(in srgb, var(--text) 10%, transparent);
  border-radius: calc(var(--radius) + 6px);
  box-shadow: var(--shadow);
}

h4{
  margin: 0 0 18px;
  font-size: clamp(20px, 2.5vw, 26px);
  letter-spacing: .2px;
}

/* Each photo block as a "card" */
#photo1, #photo2, #photo3{
  background: linear-gradient(180deg, color-mix(in srgb, var(--panel) 92%, transparent), var(--panel));
  border: 1px solid color-mix(in srgb, var(--text) 10%, transparent);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,.18);
}

#photo2, #photo3{ margin-top: 14px; }

/* ===========================
   File Inputs + Buttons
   =========================== */
input[type="file"]{
  /* hide default input but keep it accessible */
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}

.custom-file-upload,
button.custom-file-upload,
.carousel-wrapper button{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 999px;
  background: linear-gradient(180deg, var(--brand), var(--brand-700));
  color: #fff;
  border: none;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: transform .06s ease, filter .2s ease, box-shadow .2s ease;
  box-shadow: 0 6px 16px rgba(124,58,237,.35);
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.custom-file-upload:hover{ filter: brightness(1.05); }
.custom-file-upload:active{ transform: translateY(1px) scale(.99); }

.custom-file-upload:focus-visible,
.carousel-wrapper button:focus-visible{
  outline: none;
  box-shadow: 0 0 0 4px var(--ring);
}

/* Secondary pill (Clear) */
.carousel-wrapper button{
  background: linear-gradient(180deg, color-mix(in srgb, var(--panel) 80%, transparent), color-mix(in srgb, var(--panel) 60%, transparent));
  color: var(--text);
  border: 1px solid color-mix(in srgb, var(--text) 12%, transparent);
  box-shadow: none;
}

.carousel-wrapper button:hover{
  filter: brightness(1.06);
}

/* Spacing for controls */
#photo1 label, #photo2 label, #photo3 label { margin-right: 8px; }
#photo1 button, #photo2 button, #photo3 button { margin-right: 8px; }

/* Filename next to controls */
#fileName1, #fileName2, #fileName3{
  font-size: 12px;
  color: var(--muted);
}

/* ===========================
   Status + Result areas
   =========================== */
#result1, #result2, #result3{
  margin-top: 12px;
}

#status1, #status2, #status3{
  min-height: 22px;
  font-size: 13px;
  color: var(--muted);
}

/* Helper status color classes you can toggle from JS */
.status--ok    { color: var(--ok); }
.status--warn  { color: var(--warn); }
.status--err   { color: var(--err); }

/* ===========================
   Carousel
   =========================== */
.carousel-wrapper{
  margin-top: 6px;
  padding: 10px;
  background: color-mix(in srgb, var(--panel) 85%, transparent);
  border: 1px dashed color-mix(in srgb, var(--text) 14%, transparent);
  border-radius: calc(var(--radius) - 6px);

  overflow-x: auto;       /* enable horizontal scroll if items overflow */
  white-space: nowrap;    /* keep items on one line */
  max-width: 100%;        /* constrain width to container */
  border: 1px solid #444; /* optional, to see the wrapper */
  padding: 6px; 
}

/* Turn the inner list into a smooth snapping scroller */
#carousel_items1, #carousel_items2, #carousel_items3{
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding: 8px;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  height: 140px;                  /* a bit taller than your inline 125px */
  align-items: center;
  /* subtle fade edges to hint scroll */
  -webkit-mask-image: linear-gradient(90deg, transparent 0, #000 30px, #000 calc(100% - 30px), transparent 100%);
  mask-image: linear-gradient(90deg, transparent 0, #000 30px, #000 calc(100% - 30px), transparent 100%);
}

#carousel_items1 > *, #carousel_items2 > *, #carousel_items3 > *{
  flex: 0 0 auto;
  scroll-snap-align: start;
  border-radius: 12px;
  background: var(--panel);
  border: 1px solid color-mix(in srgb, var(--text) 10%, transparent);
  box-shadow: 0 4px 12px rgba(0,0,0,.18);
  overflow: hidden;
}

/* If you append <img> elements inside */
#carousel_items1 img,
#carousel_items2 img,
#carousel_items3 img{
  display: block;
  height: 110px;
  width: auto;
  max-width: 180px;
  object-fit: cover;
}

/* Small "chip" for labels under thumbs (optional) */
.thumb-caption{
  display: block;
  padding: 6px 8px;
  font-size: 12px;
  color: var(--muted);
  text-align: center;
  white-space: nowrap;
}

/* ===========================
   Accessibility + Focus
   =========================== */
:focus-visible{
  outline: 3px solid var(--ring);
  outline-offset: 2px;
}

/* ===========================
   Nice scrollbars (WebKit/Chromium)
   =========================== */
#carousel_items1::-webkit-scrollbar,
#carousel_items2::-webkit-scrollbar,
#carousel_items3::-webkit-scrollbar{
  height: 10px;
}
#carousel_items1::-webkit-scrollbar-track,
#carousel_items2::-webkit-scrollbar-track,
#carousel_items3::-webkit-scrollbar-track{
  background: color-mix(in srgb, var(--panel) 70%, transparent);
  border-radius: 999px;
}
#carousel_items1::-webkit-scrollbar-thumb,
#carousel_items2::-webkit-scrollbar-thumb,
#carousel_items3::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--text) 24%, transparent);
  border-radius: 999px;
}

/* ===========================
   Responsive polish
   =========================== */
@media (min-width: 720px){
  #photo1, #photo2, #photo3{
    padding: 18px 20px;
  }
}

@media (min-width: 960px){
  .container{
    padding: 32px 36px;
  }
}

/* ===========================
   Utility helpers (optional)
   =========================== */
.hidden { display: none !important; }
.center { display: grid; place-items: center; }
.mt-8  { margin-top: 8px; }
.mt-12 { margin-top: 12px; }
.mt-16 { margin-top: 16px; }
